{
  "ConnectionStrings": {
    "HubDb": "Data Source=./data/hub.db"
  },
  "Mqtt": {
    "Host": "localhost",
    "Port": 1883,
    "ClientId": "myiotgrid-hub-api",
    "Username": "",
    "Password": "",
    "UseTls": false,
    "KeepAliveSeconds": 30,
    "MaxReconnectAttempts": 10,
    "ReconnectDelaySeconds": 5
  },
  "Cloud": {
    "BaseUrl": "https://api.myiotgrid.com",
    "ApiKey": "",
    "SyncIntervalSeconds": 60,
    "RetryCount": 3
  },
  "Hub": {
    "DefaultTenantId": "00000000-0000-0000-0000-000000000001",
    "DefaultTenantName": "Default"
  },
  "Monitoring": {
    "SensorCheckIntervalSeconds": 60,
    "SensorOfflineTimeoutMinutes": 5,
    "HubCheckIntervalSeconds": 60,
    "HubOfflineTimeoutMinutes": 5,
    "DataRetentionIntervalHours": 24,
    "DataRetentionDays": 30,
    "EnableSensorMonitoring": true,
    "EnableHubMonitoring": true,
    "EnableDataRetention": true
  },
  "MatterBridge": {
    "Enabled": false,
    "BaseUrl": "http://localhost:3000",
    "TimeoutSeconds": 10,
    "RetryCount": 3,
    "RetryDelayMilliseconds": 1000,
    "EnabledSensorTypes": ["temperature", "humidity", "pressure"],
    "EnableAlertSensors": true
  },
  "Discovery": {
    "Enabled": true,
    "Port": 5001,
    "Protocol": "https",
    "ApiPort": 5001,
    "ReceiveTimeoutMs": 1000,
    "LogDiscoveryRequests": false
  },
  "Cors": {
    "AllowedOrigins": [
      "http://localhost:4200",
      "https://localhost:4200",
      "https://localhost:5001",
      "https://localhost:443",
      "https://localhost"
    ]
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.AspNetCore": "Warning",
        "Microsoft.EntityFrameworkCore": "Warning",
        "Microsoft.EntityFrameworkCore.Database.Command": "Warning",
        "System": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {SourceContext}{NewLine}{Message:lj}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "./logs/hub-.log",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 7,
          "outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{Level:u3}] [{SourceContext}] {Message:lj}{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": [
      "FromLogContext",
      "WithMachineName",
      "WithEnvironmentName",
      "WithThreadId"
    ],
    "Properties": {
      "Application": "myIoTGrid.Hub.Api"
    }
  },
  "AllowedHosts": "*"
}
